# iDS TT Video Marker ver 2.1

## 主な変更点

- アプリのファイル構造の整理
- ラベルテンプレート（`tempalte`フォルダ）のjsonデータ構造の変更
- メニューバーの追加
- 動画ファイルを開と前回までのjsonを`markdata-backup`フォルダにバックアップする機能を追加
- `markdata`フォルダをzipファイルにエクスポートする機能を追加
- エクスポートしたzipファイルを`markdata`フォルダにインポートする機能を追加
- エラーログ出力先を`error-logs`フォルダに変更
- 画面下部のストリーム表示欄でマーカー（「!Play(1)」など）が重なったときに現在のフレームが一番上に表示されるよう変更

バージョン 2.X はマークデータ（jsonファイル）構造の変更を含みます。
旧バージョンのマークデータが json-version 1 で、このバージョンのマークデータが json-version 2 です。

旧バージョンからコピーされてこのバージョンの`markdata`フォルダに配置されたjsonファイルは、次回の読み込み時に自動的に json-version 2 へ更新されます。
バージョン 1.X から 2.X へアップデートするときは、不具合があった場合に備えて、**古いバージョンの`markdata`
フォルダのjsonファイルは、消さずに別の場所に取っておいてください！**

## 使い方

### インストール

1. GitHubの右上の「Code」から「Download ZIP」をクリックしてZIPファイルをダウンロードする
2. ダウンロードしたZIPファイルを展開する
3. 展開したフォルダの`run.bat`を実行する

### 動画の読み込み

1. 起動したアプリに動画をドラッグ＆ドロップする

### ラベルのつけ方

1. 下の操作方法を参考にしてフレームをラベルをつけるフレームを探す
    - 1フレーム進むキーを押し続けると動画を再生するようにフレームを送ることができる
2. 下の操作方法を参考にしてラベルを編集する
    - 右側のパネルのボタンを押しても編集可

**ラベルデータはすべて自動保存です。終了するときはそのままウィンドウを閉じればOK**

### ラベルデータの取り出し

`run.bat`があるフォルダの`markdata`フォルダに動画の名前のjsonが生成されます。このjsonファイルを提出してください。

## アップデート

1. 「インストール」と同じ手順で最新バージョンをインストールする。**このとき旧バージョンを上書きしない！**
2. アプリを起動している場合はすべて閉じる
3. **旧バージョンの`markdata`フォルダを、新バージョンの`run.bat`があるフォルダにコピーする**（ラベルデータの引継ぎ）
4. 新バージョンを実行して動画を開き、データが引き継がれていれば完了

## 操作方法

### 基本操作

|                 キー                 |             操作             |
|:----------------------------------:|:--------------------------:|
|              `A`/`D`               |      1フレーム前・1フレーム次へ進む      |
|        `Shift+A`/`Shift+D`         |      5フレーム前・5フレーム次へ進む      |
|         `Ctrl+A`/`Ctrl+D`          |        10秒前・10秒次へ進む        |
|   `Ctrl+Shift+A`/`Ctrl+Shift+D`    |     最初のフレーム・最後のフレームへ進む     |
|    `Q`/`E` <br>（`A`/`D`の１つ上のキー）    |       前のラベル/次のラベルへ進む       |
|   `1`, `2`, `3`, ... <br>（数字キー）    | ラベルをつける<br>もう一度押してラベルを削除する |
| `Z`, `X`, `C`, ... <br>（キーボードの下の列） | タグを追加する<br>もう一度押してタグを除去する  |

### 作業状況の保存

マークデータはすべて自動保存です。終了するときはそのままウィンドウを閉じればOK
